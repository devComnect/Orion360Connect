<header class="app-header shadow-sm">
    <div class="container-fluid px-4 d-flex justify-content-between align-items-center flex-wrap">
        <div class="logo">
            <a href="{{ url_for('home_bp.render_home') }}">
                <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo do Projeto" class="logo-img" style="height: 40px;">
            </a>
        </div>

        {% if SessionManager.is_authenticated() %}
            <ul class="nav justify-content-center mb-0">
                {% if is_guardian_admin %}
                    <li class="nav-item"><a href="/dashboard" class="nav-link">Dashboard</a></li>
                    <li class="nav-item"><a href="/insights" class="nav-link">Insights</a></li>
                    <li class="nav-item"><a href="/okrs" class="nav-link">OKRs</a></li>
                    <li class="nav-item"><a href="/relatorios" class="nav-link">Relatórios</a></li>
                    <li class="nav-item"><a href="/escala" class="nav-link">Escala</a></li>
                    <li class="nav-item"><a href="/register" class="nav-link">Gerenciamento</a></li>
                {% else %}

                    {# Links para Usuário Comum #}
                    <li><a href="/performance" class="nav-link">Performance</a></li>
                    <li><a href="/dashboard_colaborador" class="nav-link">Dashboard</a></li>
                {% endif %}
                
                <li class="nav-item dropdown">
                    <a class="nav-link px-3 dropdown-toggle" href="#" id="guardiansDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Guardiões
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="guardiansDropdown">
                        <li><a class="dropdown-item" href="{{ url_for('guardians_bp.rankings') }}">Rankings</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('guardians_bp.sobre') }}">Sobre o Programa</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('guardians_bp.central') }}">Central de Treinamentos</a></li>
                    </ul>
                </li>
            </ul>
        {% endif %}

        <div class="logout-container d-flex align-items-center">
            {% if SessionManager.is_authenticated() %}
                {% if is_guardian_admin %}
                    <a href="{{ url_for('guardians_bp.admin') }}" class="btn btn-warning btn-sm me-2">
                        <i class="bi bi-shield-lock-fill me-1"></i> Painel Admin
                    </a>
                {% endif %}
                <a href="{{ url_for('guardians_bp.meu_perfil') }}" class="btn btn-outline-light btn-sm me-2">
                    <i class="bi bi-person-circle me-1"></i> Meu Perfil
                </a>
                <form action="{{ url_for('login.logout') }}" method="POST" class="d-inline">
                    <button type="submit" class="btn btn-danger btn-sm">
                        <i class="bi bi-box-arrow-right me-1"></i> Sair
                    </button>
                </form>
            {% else %}
                <a href="{{ url_for('login.login') }}" class="btn btn-success btn-sm"><i class="bi bi-box-arrow-in-right me-1"></i> Entrar</a>
            {% endif %}
        </div>
    </div>
</header>
